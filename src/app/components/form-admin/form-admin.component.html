<div class="form-container">
    <div class="row titulo">
        <h1>{{titulo}}</h1>
        <h1>{{subtitulo}}</h1>
    </div>
    <div class="row">
        <form [formGroup]="form" (ngSubmit)="registrar()">
            <div class="row">
                <div class="col-6"> <!-- nombre -->
                    <div class="form-floating mb-5 position-relative">
                        <input type="text" class="form-control" id="floatingInput1" formControlName="nombre"  placeholder="">
                        <label for="floatingInput1">{{"form_nombre" | translate}}</label>
                        <div class="alert alert-danger p-1 position-absolute w-100" *ngIf="form.controls?.['nombre']?.invalid && (form.controls?.['nombre']?.dirty || form.controls?.['nombre']?.touched)">
                            <div *ngIf="form.controls?.['nombre']?.errors?.['required']">{{"form_nombreRequired" | translate}}</div>
                        </div>                          
                    </div>
                </div>
                <div class="col-6"> <!-- apellido -->
                    <div class="form-floating mb-5 position-relative">
                        <input type="text" class="form-control" id="floatingInput2" formControlName="apellido" placeholder="">
                        <label for="floatingInput2">{{"form_apellido" | translate}}</label>
                        <div class="alert alert-danger p-1 position-absolute w-100" *ngIf="form.controls?.['apellido']?.invalid && (form.controls?.['apellido']?.dirty || form.controls?.['apellido']?.touched)">
                            <div *ngIf="form.controls?.['apellido']?.errors?.['required']">{{"form_apellidoRequired" | translate}}</div>
                        </div> 
                    </div>                         
                </div>
            </div>
            <div class="row">
                <div class="col-6"> <!-- edad -->
                    <div class="form-floating mb-5 position-relative">
                        <input type="number" min="21" max="85" id="floatingInput3" class="form-control"  formControlName="edad" placeholder=""/>
                        <label for="deck-name" for="floatingInput3">{{"form_edad" | translate}}</label>
                        <div class="alert alert-danger p-1 position-absolute w-100" *ngIf="form.controls?.['edad']?.invalid && (form.controls?.['edad']?.dirty || form.controls?.['edad']?.touched)">
                            <div *ngIf="form.controls?.['edad']?.errors?.['required']">{{"form_edadRequired" | translate}}</div>
                            <div *ngIf="form.controls?.['edad']?.errors?.['min']">{{"form_edadMin" | translate}}</div>
                            <div *ngIf="form.controls?.['edad']?.errors?.['max']">{{"form_edadMax" | translate}}</div>
                        </div> 
                    </div>
                </div>
                <div class="col-6"> <!-- dni -->
                    <div class="form-floating mb-5 position-relative">
                        <input type="text" class="form-control" id="floatingInput4" formControlName="dni"  placeholder="">
                        <label for="floatingInput4">{{"form_dni" | translate}}</label>
                        <div class="alert alert-danger p-1 position-absolute w-100" *ngIf="form.controls?.['dni']?.invalid && (form.controls?.['dni']?.dirty || form.controls?.['dni']?.touched)">
                            <div *ngIf="form.controls?.['dni']?.errors?.['required']">{{"form_dniRequired" | translate}}</div>
                            <div *ngIf="form.controls?.['dni']?.errors?.['minlength']">{{"form_dniMin" | translate}}</div>
                            <div *ngIf="form.controls?.['dni']?.errors?.['maxlength']">{{"form_dniMax" | translate}}</div>
                        </div>                          
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">  <!-- Email -->
                    <div class="form-floating mb-5 position-relative">
                        <input type="email" class="form-control" id="floatingInput5" formControlName="email" placeholder="" autocomplete="off">
                        <label for="floatingInput5">{{"form_email" | translate}}</label>
                        <div class="alert alert-danger p-1 position-absolute w-100" *ngIf="form.controls?.['email']?.invalid && (form.controls?.['email']?.dirty || form.controls?.['email']?.touched)">
                            <div *ngIf="form.controls?.['email']?.errors?.['required']">{{"form_errorEmailRequired" | translate}}</div>
                            <div *ngIf="form.controls?.['email']?.errors?.['email']">{{"form_errorEmail" | translate}}</div>
                        </div>                          
                    </div>
                </div>
                <div class="col-6"> <!-- Contraseña -->
                    <div class="form-floating mb-5 position-relative">
                        <input type="password" class="form-control" id="floatingInput6" formControlName="password" placeholder="" autocomplete="off">
                        <label for="floatingInput6">{{"form_contraseña" | translate}}</label>
                        <div class="alert alert-danger p-1 position-absolute w-100" *ngIf="form.controls?.['password']?.invalid && (form.controls?.['password']?.dirty || form.controls?.['password']?.touched)">
                            <div *ngIf="form.controls?.['password']?.errors?.['required']">{{"form_errorContraseñaRequired" | translate}}</div>
                            <div *ngIf="form.controls?.['password']?.errors?.['minlength']">{{"form_errorContraseñaMinLength" | translate}}</div>
                            <!-- <div *ngIf="form.controls?.['password']?.errors?.['password']">{{"form_email" | translate}}</div> -->
                        </div>   
                    </div>                         
                </div>
                <div class="col-6"> <!-- ReContraseña -->
                    <div class="form-floating mb-5 position-relative">
                        <input type="password" class="form-control" id="floatingInput7" formControlName="confirmPassword" placeholder="" autocomplete="off">
                        <label for="floatingInput7">{{"form_confirmContraseña" | translate}}</label>
                        <div class="alert alert-danger p-1 position-absolute w-100" *ngIf="form.controls?.['confirmPassword']?.invalid && (form.controls?.['confirmPassword']?.dirty || form.controls?.['confirmPassword']?.touched)">
                            <div *ngIf="form.controls?.['confirmPassword']?.errors?.['required']">{{"form_confirmContraseñaRequired" | translate}}</div>
                            <div *ngIf="form.controls?.['confirmPassword']?.errors?.['noCoincide']">{{"form_confirmContraseñaMatch" | translate}}</div>
                        </div>   
                    </div>                         
                </div>
            </div>
            <div class="row">
                <div class="col-12 d-flex flex-column justify-content-center align-items-center m-3 position-relative">
                    <mi-captcha class="d-flex" (enviarCaptchaResult)="obtenerResultCaptcha($event)"></mi-captcha>
                    @if(this.error != ''){
                        <div class="d-flex justify-content-center align-items-center alert alert-danger p-1 w-25 position-absolute"
                        style="top: 100%; left: auto; z-index: 10;">
                            <div>{{this.error}}</div>
                        </div>   
                    }
                </div>
                <!-- <div class="col-5">
                    <ngx-recaptcha2 #captchaElem
                    [siteKey]="siteKey"
                    required="true"
                    formControlName="recaptcha"
                    (success)="resolve($event)"
                    ></ngx-recaptcha2>
                    <div class="alert alert-danger p-1 position-absolute w-100" *ngIf="form.controls?.['recaptcha']?.invalid && (form.controls?.['recaptcha']?.dirty || form.controls?.['recaptcha']?.touched)">
                        <div *ngIf="form.controls?.['recaptcha']?.errors?.['required']">Captcha es requerido</div>
                    </div>  
                </div> -->

            </div>
            <div class="row d-flex justify-content-center p-3 m-3 ">
                <button type="submit" class="btn btn-primary btn-lg"> {{"form_btnRegistrarse" | translate}} </button>
            </div>
        </form>
    </div>
</div>
